<Project Sdk="Microsoft.NET.Sdk">
  <PropertyGroup>
    <TargetFramework>net8.0-android</TargetFramework>
    <SupportedOSPlatformVersion>21</SupportedOSPlatformVersion>
    <OutputType>Exe</OutputType>
    <Nullable>enable</Nullable>
    <ImplicitUsings>enable</ImplicitUsings>
    <ApplicationVersion>1</ApplicationVersion>
    <ApplicationDisplayVersion>1.0</ApplicationDisplayVersion>

    <RootNamespace>AssetPackSample</RootNamespace>

    <!-- Override property from 'Directory.Build.props' -->
    <!--
    -->
    <AndroidGenerateResourceDesigner>true</AndroidGenerateResourceDesigner>

    <!-- Prevent linking, since that would remove ~everything -->
    <!--
    -->
    <PublishTrimmed>False</PublishTrimmed>
    <RunAOTCompilation>False</RunAOTCompilation>
  </PropertyGroup>

  <ItemGroup>
    <ProguardConfiguration Include="proguard.cfg" />
  </ItemGroup>

  <ItemGroup>
    <PackageReference Include="Xamarin.AndroidX.Lifecycle.LiveData" />
    <PackageReference Include="Xamarin.AndroidX.Lifecycle.Common" />
    <PackageReference Include="Xamarin.AndroidX.Lifecycle.LiveData.Core" />
    <PackageReference Include="Xamarin.AndroidX.Legacy.Support.V4" />
    <PackageReference Include="Xamarin.AndroidX.AppCompat" />
    <PackageReference Include="Xamarin.Google.Android.Material" />
    <PackageReference Include="Microsoft.Maui.Essentials" />
    
    <PackageReference Include="Xamarin.GooglePlayServices.Base" />
    
    <PackageReference Include="Xamarin.Google.Android.Play.Asset.Delivery" />
    <!-- Remove the old Conflicting Package otherwise this causes build errors. -->
    <PackageReference Remove="Xamarin.Google.Android.Play.Core" />
  </ItemGroup>
  
  <ItemGroup>
    <ProjectReference Include="..\AssetPacks\InstallTimeAssetPack\InstallTimeAssetPack.csproj">
      <Name>InstallTimeAssetPack</Name>
      <!-- These next two items are REALLY IMPORTANT!!!! -->
      <DynamicFeature>true</DynamicFeature>
      <ReferenceOutputAssembly>false</ReferenceOutputAssembly>
    </ProjectReference>
    <ProjectReference Include="..\AssetPacks\DynamicAssetPack\DynamicAssetPack.csproj">
      <Name>DynamicAssetPack</Name>
      <!-- These next two items are REALLY IMPORTANT!!!! -->
      <DynamicFeature>true</DynamicFeature>
      <ReferenceOutputAssembly>false</ReferenceOutputAssembly>
    </ProjectReference>
  </ItemGroup>

  <Import Project="..\Targets\DynamicFeature.targets" />
  <!-- To modify your build process, add your task inside one of the targets below and uncomment it.
    Other similar extension points exist, see Microsoft.Common.targets.
    <Target Name="BeforeBuild">
    </Target>
    <Target Name="AfterBuild">
    </Target>
  -->

</Project>
